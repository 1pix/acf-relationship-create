!function(e,t,i,a){if("undefined"!=typeof acf){var n=function(t,i,a){if(e("#acf-rc-popup").remove(),void 0!==i.o.max&&i.o.max>0&&i.$values.find(".acf-rel-item").length>=i.o.max)return void alert(acf._e("relationship","max").replace("{max}",i.o.max));var n=e(a.parents(".acf-field:first").find(".acf-rc-popup-wrapper").html());if(n.on("click","a",function(t){t.preventDefault();var i=a.parents(".acf-field:first");i.data("acfRcOpenUrl",{url:e(this).attr("data-create-url"),title:e(this).attr("title")}),i.trigger("acf-rc-lightbox-open")}),n.find("ul li").length>1){var c=t.$el.parents(".media-modal:first");if(1==c.length){c.find("div.media-frame-content div.settings").prepend(n);var r=t.$el.parents("td.acf-field:first"),f=1==r.length?t.$el.parents("td.acf-field:first").position().top:0;f+=t.$el.position().top-n.height()-6+(t.$el.outerHeight(!0)-t.$el.innerHeight());var l=1==r.length?t.$el.parents("td.acf-field:first").position().left:0;l+=t.$el.position().left-n.width()/2,l+=1==r.length?t.$el.outerWidth(!0):t.$el.outerWidth(!0)/2,n.css({top:f,left:l})}else e("body").prepend(n),n.css({top:t.$el.offset().top-n.height()-6,left:t.$el.offset().left-n.width()/2+t.$el.outerWidth(!0)/2});var d=n.children(".focus");d.trigger("focus"),d.on("blur",function(e){o()})}else n.find("ul li:first a:first").trigger("click")},o=function(){setTimeout(function(){e("#acf-rc-popup").remove()},200)},c=function(t){var i=t.$el.data("acfRcOpenUrl").url;i=i.replace("__acf_rc_original_field_uniqid__",t.$el.attr("data-acf-rc-uniqid"));var a=t.$el.parents(".media-modal:first");1==a.length?(i=i.replace("__acf_rc_from_content_type__","attachment"),i=i.replace("__acf_rc_from_content_ID__",a.find("div.media-frame-content div.attachment-details").attr("data-id"))):(i=i.replace("__acf_rc_from_content_type__",e('form#post input[name="post_type"]').val()),i=i.replace("__acf_rc_from_content_ID__",e('form#post input[name="post_ID"]').val())),tb_show(t.$el.data("acfRcOpenUrl").title,i)};acf.fields.relationship.acf_rc_tooltip_open=function(e){var t=this;setTimeout(function(){n(e,t,t.$el)},300)},acf.fields.post_object.acf_rc_tooltip_open=function(e){var t=this;setTimeout(function(){n(e,t,t.$select)},300)},acf.fields.relationship._add_event("click .acf-relationship-create-link","acf_rc_tooltip_open"),acf.fields.post_object._add_event("click .acf-relationship-create-link","acf_rc_tooltip_open"),acf.fields.relationship.acf_rc_lightbox_open=function(e){c(e)},acf.fields.post_object.acf_rc_lightbox_open=function(e){c(e)},acf.fields.relationship._add_event("acf-rc-lightbox-open  ","acf_rc_lightbox_open"),acf.fields.post_object._add_event("acf-rc-lightbox-open  ","acf_rc_lightbox_open"),e(document).ajaxComplete(function(i,a,n,o){var c=t.parse_query_string("foobar?"+decodeURIComponent(n.data));if(void 0!==c.acf_relationship_created_post_id){var r=c.acf_relationship_created_post_id.split("-");if(void 0!==r[1]){var f=e("[data-acf-rc-uniqid="+r[1]+"]");if(1==f.length){var l=f.find(".choices .acf-rel-item:not(.disabled)");1==l.length&&l.trigger("click"),f.find('input[data-filter="acf_relationship_created_post_id"]').val("").trigger("change")}}}}),e(document).on("acf-relationship-create/created",function(t,a,n){if(void 0!==a){var o=e('[data-acf-rc-uniqid="'+a+'"]');if(1==o.length){var c=o.find('input[name="acf-relationship-created_post_id"]');if(1==c.length){switch(o.attr("data-type")){case"relationship":c.val(n.post_id+"-"+a).trigger("change");break;case"post_object":var r=o.find("select");if(1!==r.length)break;var f,l={id:n.post_id,text:n.post_title};if(i.ACF.version<"5.6.0"){var d=r.siblings("input");if(1!==d.length)break;r=d}f=r.select2("data"),""===l.text&&(l.text=i.i18n.no_title);if(r.find('option[value="'+l.id+'"]').length<1&&r.append(e("<option></option>").attr("value",l.id).text(l.text)),r.prop("multiple"))if(i.ACF.version<"5.6.0"){var p=!1;e.each(f,function(e,t){if(t.id===n.post_id)return p=!0,!1}),p||(f.push(l),d.select2("data",f))}else{var s=[];e.each(f,function(t,i){r.find('option[value="'+i.id+'"]').length<1&&r.append(e("<option></option>").attr("value",i.id).text(i.text)),s.push(i.id)}),s.push(l.id.toString()),r.val(s).trigger("change")}else i.ACF.version<"5.6.0"?r.select2("data",l):r.val(l.id.toString()).trigger("change")}tb_remove()}}}}),e(document).ready(function(){function i(e,i){var a=e.find("a.acf-relationship-create-link");if(1==a.length){e.attr("data-acf-rc-uniqid",t.generate_random_id()),e.attr("data-acf-relationship-create-enabled",!0);var n="";switch(e.is("td")&&(n="repeater"),e.is("tr")&&(n="mediamodal"),n){case"repeater":if(e.is(".acf-field-relationship")){a.detach().appendTo(e.find("div.filters"));break}e.is(".acf-field-post-object")&&a.detach().appendTo(e.find(".acf-input"));break;case"mediamodal":a.detach().appendTo(e.find(".acf-label")),a.css({"margin-top":e.find(".acf-label label").css("margin-top"),"padding-top":e.find(".acf-label label").css("padding-top")});break;default:a.detach().appendTo(e.find(".acf-label"))}}}!1!==t.get_parent_iframe()&&(t.hide_admin_bar(),t.hide_admin_menu()),e("body").append('<div id="acf-rc-tooltip"></div>'),acf.add_action("load_field/type=relationship",function(e){i(e,"relationship")}),acf.add_action("append_field/type=relationship",function(e){i(e,"relationship")}),acf.add_action("load_field/type=post_object",function(e){i(e,"post_object")}),acf.add_action("append_field/type=post_object",function(e){i(e,"post_object")})})}}(jQuery,window.acf_relationship_create||{},window.acf_relationship_create_pro_field||{});